<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Green Dot City</title>
    <style>
        :root { --green: #39FF14; --bg: #000000; --card: #1a1a1a; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); color: white; padding: 20px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 11px; color: #666; margin-bottom: 4px; font-weight: bold; text-transform: uppercase; }
        input, select { width: 100%; background: var(--card); border: 1px solid #333; color: white; padding: 12px; border-radius: 12px; box-sizing: border-box; font-size: 16px; outline: none; }
        input:focus { border-color: var(--green); }
        button { width: 100%; background: var(--green); border: none; padding: 18px; border-radius: 12px; font-weight: 900; font-size: 18px; color: black; margin-top: 10px; }
        .toggle-box { display: flex; align-items: center; justify-content: space-between; background: #111; padding: 12px; border-radius: 12px; margin-bottom: 15px; border: 1px solid var(--green); }
        .hidden { display: none; }
    </style>
</head>
<body>
    <h1 style="color: var(--green); margin: 0; font-size: 32px;">GREEN DOT CITY</h1>
    <p style="color: #444; font-size: 10px; font-weight: bold; letter-spacing: 2px; margin-bottom: 25px;">BET ENTRY TERMINAL</p>

    <div class="form-group">
        <label>League</label>
        <select id="sport">
            <option value="NFL">NFL</option><option value="NBA">NBA</option><option value="WNBA">WNBA</option>
            <option value="NCAAF">NCAAF</option><option value="NCAAB">NCAAB</option><option value="MLB">MLB</option>
            <option value="NHL">NHL</option><option value="ATP">ATP</option><option value="WTA">WTA</option>
            <option value="eSports">eSports</option><option value="Golf">Golf</option><option value="MMA">MMA</option>
            <option value="Soccer">Soccer</option><option value="Multi" selected>Multi</option>
        </select>
    </div>

    <div class="toggle-box">
        <span style="color: var(--green); font-weight: bold;">PARLAY MODE</span>
        <input type="checkbox" id="parlayToggle" onchange="toggleParlay()" style="width: 25px; height: 25px;">
    </div>

    <div id="singleFields">
        <div class="form-group"><label>Team / Player Name</label><input type="text" id="team1" placeholder="e.g. Lakers or LeBron Over"></div>
        <div class="form-group"><label>Opponent (Optional)</label><input type="text" id="team2" placeholder="e.g. Celtics"></div>
    </div>

    <div id="parlayFields" class="hidden">
        <label>Parlay Legs</label>
        <input type="text" class="p-leg" placeholder="Leg 1" style="margin-bottom: 8px;">
        <input type="text" class="p-leg" placeholder="Leg 2" style="margin-bottom: 8px;">
        <input type="text" class="p-leg" placeholder="Leg 3" style="margin-bottom: 8px;">
        <input type="text" class="p-leg" placeholder="Leg 4">
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
        <div class="form-group"><label>Odds (Decimal)</label><input type="number" step="0.01" id="odds" placeholder="1.91"></div>
        <div class="form-group"><label>Stake ($)</label><input type="number" id="stake" placeholder="100"></div>
    </div>

    <button id="submitBtn" onclick="submitBet()">LOG TO THE CITY</button>

    <script>
        const WEB_APP_URL = "YOUR_NEW_DEPLOYMENT_URL_HERE"; 

        function toggleParlay() {
            const isParlay = document.getElementById('parlayToggle').checked;
            document.getElementById('singleFields').classList.toggle('hidden', isParlay);
            document.getElementById('parlayFields').classList.toggle('hidden', !isParlay);
        }

        async function submitBet() {
            const btn = document.getElementById('submitBtn');
            btn.innerText = "SYNCHRONIZING...";
            btn.disabled = true;

            const payload = {
                isParlay: document.getElementById('parlayToggle').checked,
                sport: document.getElementById('sport').value,
                team1: document.getElementById('team1').value,
                team2: document.getElementById('team2').value,
                parlayTeams: Array.from(document.querySelectorAll('.p-leg')).map(i => i.value).filter(v => v !== ""),
                odds: document.getElementById('odds').value,
                stake: document.getElementById('stake').value,
                type: document.getElementById('parlayToggle').checked ? "Parlay" : "Straight"
            };

            try {
                await fetch(WEB_APP_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
                alert("Green Dot Logged.");
                location.reload();
            } catch (e) {
                alert("Connection Error.");
                btn.disabled = false;
                btn.innerText = "LOG TO THE CITY";
            }
        }
    </script>
</body>
</html>